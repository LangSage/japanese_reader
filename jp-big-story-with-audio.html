<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Japanese Reading â€“ Big Story</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<style>
    :root {
      --bg: #050816;
      --card: #111827;
      --accent: #f97316;
      --accent-soft: rgba(249, 115, 22, 0.08);
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
      --border-subtle: #1f2937;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #0f172a 0, #020617 60%);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .app {
      width: 100%;
      max-width: 720px;
    }

    .card {
      background: rgba(15, 23, 42, 0.9);
      border-radius: 18px;
      padding: 16px 16px 20px;
      border: 1px solid var(--border-subtle);
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.7);
      backdrop-filter: blur(18px);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      gap: 12px;
    }

    .title {
      font-size: 1.1rem;
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .badge {
      font-size: 0.7rem;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid var(--accent-soft);
      background: rgba(15, 23, 42, 0.9);
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      white-space: nowrap;
    }

    .subtitle {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-bottom: 10px;
      line-height: 1.4;
    }

    .hint {
      font-size: 0.8rem;
      padding: 10px 12px;
      border-radius: 12px;
      background: var(--accent-soft);
      border: 1px solid rgba(249, 115, 22, 0.25);
      color: #fed7aa;
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 14px;
    }

    .hint span.icon {
      font-size: 1rem;
      margin-top: 1px;
    }

    .jp-block {
      background: radial-gradient(circle at top left, #111827 0, #020617 70%);
      border-radius: 14px;
      padding: 12px;
      border: 1px solid var(--border-subtle);
      margin-bottom: 10px;
    }

    .jp-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .jp-text {
      font-size: 1.05rem;
      line-height: 1.8;
    }

    .story-title {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .word {
      padding: 1px 3px;
      margin: 0 2px;
      border-radius: 6px;
      cursor: pointer;
      position: relative;
      transition: background 0.15s ease, box-shadow 0.15s ease,
        transform 0.08s ease;
      white-space: nowrap;
    }

    .word:hover {
      background: rgba(249, 115, 22, 0.12);
      box-shadow: 0 0 0 1px rgba(249, 115, 22, 0.35);
      transform: translateY(-1px);
    }

    .word:active {
      transform: translateY(0);
      background: rgba(249, 115, 22, 0.18);
    }

    .particle {
      opacity: 0.9;
    }

    /* Tooltip */
    #tooltip {
      position: absolute;
      z-index: 9999;
      pointer-events: none;
      background: #020617;
      border-radius: 10px;
      padding: 8px 10px;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 0.8rem;
      line-height: 1.4;
      opacity: 0;
      transform: scale(0.92);
      transition: opacity 0.1s ease-out, transform 0.1s ease-out;
      min-width: 130px;
      max-width: 220px;
      color: var(--text-main);
    }

    #tooltip.visible {
      opacity: 1;
      transform: scale(1);
    }

    #tooltip .row-label {
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 2px;
    }

    #tooltip .row-value {
      margin-bottom: 6px;
    }

    #tooltip .row-value:last-child {
      margin-bottom: 0;
    }

    #tooltip .romaji {
      color: #fee2e2;
      font-weight: 600;
    }

    #tooltip .translation {
      color: #bfdbfe;
    }

    footer {
      margin-top: 10px;
      font-size: 0.75rem;
      color: var(--text-muted);
      text-align: center;
    }

    @media (min-width: 640px) {
      .card {
        padding: 18px 20px 22px;
      }
      .subtitle {
        font-size: 0.82rem;
      }
      .jp-text {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
<div class="app">
<div class="card">
<header>
<div>
<div class="title">
<span>ã«ã»ã‚“ã”ãƒªãƒ¼ãƒ€ãƒ¼</span>
</div>
<div class="subtitle">
            One big story. Tap a <strong>word</strong> to see
            <strong>romaji</strong>, <strong>translation</strong>, and hear audio.
          </div>
</div>
<div class="badge">Big Story</div>
</header>
<div class="hint">
<span class="icon">ğŸ’¡</span>
<div>
<div>Read slowly, line by line. Tap only the words you need.</div>
<div>Audio will play if this word has a generated sound file.</div>
</div>
</div>
<div class="story-title">ã‚ã‚“ãªã® ã„ã¡ã«ã¡ ğŸŒ…ğŸ«ğŸ </div>
<div class="jp-block">
<div class="jp-label">Japanese</div>
<div class="jp-text">
<span class="word" data-audio="audio/w001_ã‚ãŸã—.mp3" data-romaji="watashi" data-translation="I">ã‚ãŸã—</span>
<span class="word particle" data-audio="audio/w002_ã¯.mp3" data-romaji="wa" data-translation="topic marker">ã¯</span>
<span class="word" data-audio="audio/w003_ã‚ã‚“ãª.mp3" data-romaji="anna" data-translation="Anna">ã‚ã‚“ãª</span>
<span class="word" data-audio="audio/w004_ã§ã™.mp3" data-romaji="desu" data-translation="am / is / are">ã§ã™</span>ã€‚
          <span class="word" data-audio="audio/w005_ã«ã»ã‚“.mp3" data-romaji="nihon" data-translation="Japan">ã«ã»ã‚“</span>
<span class="word" data-audio="audio/w006_ã®.mp3" data-romaji="no" data-translation="of / 's">ã®</span>
<span class="word" data-audio="audio/w007_ã¡ã„ã•ãª.mp3" data-romaji="chiisana" data-translation="small">ã¡ã„ã•ãª</span>
<span class="word" data-audio="audio/w008_ã¾ã¡.mp3" data-romaji="machi" data-translation="town">ã¾ã¡</span>
<span class="word" data-audio="audio/w009_ã«.mp3" data-romaji="ni" data-translation="in / at / to">ã«</span>
<span class="word" data-audio="audio/w010_ã™ã‚“ã§ã„ã¾ã™.mp3" data-romaji="sundeimasu" data-translation="live">ã™ã‚“ã§ã„ã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w011_ã¾ã„ã‚ã•.mp3" data-romaji="maiasa" data-translation="every morning">ã¾ã„ã‚ã•</span>
<span class="word" data-audio="audio/w001_ã‚ãŸã—.mp3" data-romaji="watashi" data-translation="I">ã‚ãŸã—</span>
<span class="word particle" data-audio="audio/w002_ã¯.mp3" data-romaji="wa" data-translation="topic marker">ã¯</span>
<span class="word" data-audio="audio/w012_ã¯ã‚„ã.mp3" data-romaji="hayaku" data-translation="early / quickly">ã¯ã‚„ã</span>
<span class="word" data-audio="audio/w013_ãŠãã¦.mp3" data-romaji="okite" data-translation="wake up">ãŠãã¦</span>ã€
          <span class="word" data-audio="audio/w014_ã‚ã•ã”ã¯ã‚“.mp3" data-romaji="asagohan" data-translation="breakfast">ã‚ã•ã”ã¯ã‚“</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w016_ãŸã¹ã¾ã™.mp3" data-romaji="tabemasu" data-translation="eat">ãŸã¹ã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w017_ãŠã¡ã‚ƒ.mp3" data-romaji="ocha" data-translation="tea">ãŠã¡ã‚ƒ</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w018_ã®ã‚“ã§.mp3" data-romaji="nonde" data-translation="drink (and...)">ã®ã‚“ã§</span>ã€
          <span class="word" data-audio="audio/w019_ãŒã£ã“ã†.mp3" data-romaji="gakkou" data-translation="school">ãŒã£ã“ã†</span>
<span class="word" data-audio="audio/w020_ã¸.mp3" data-romaji="e" data-translation="to">ã¸</span>
<span class="word" data-audio="audio/w021_ã„ãã¾ã™.mp3" data-romaji="ikimasu" data-translation="go">ã„ãã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w019_ãŒã£ã“ã†.mp3" data-romaji="gakkou" data-translation="school">ãŒã£ã“ã†</span>
<span class="word" data-audio="audio/w022_ã§.mp3" data-romaji="de" data-translation="at / in">ã§</span>
<span class="word" data-audio="audio/w023_ã¨ã‚‚ã ã¡.mp3" data-romaji="tomodachi" data-translation="friend(s)">ã¨ã‚‚ã ã¡</span>
<span class="word" data-audio="audio/w024_ã¨.mp3" data-romaji="to" data-translation="with / and">ã¨</span>
<span class="word" data-audio="audio/w025_ã‚ã£ã¦.mp3" data-romaji="atte" data-translation="meet">ã‚ã£ã¦</span>ã€
          <span class="word" data-audio="audio/w026_ã«ã»ã‚“ã”.mp3" data-romaji="nihongo" data-translation="Japanese language">ã«ã»ã‚“ã”</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w027_ã¹ã‚“ãã‚‡ã†ã—ã¾ã™.mp3" data-romaji="benkyoushimasu" data-translation="study">ã¹ã‚“ãã‚‡ã†ã—ã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w028_ã²ã‚‹.mp3" data-romaji="hiru" data-translation="noon">ã²ã‚‹</span>
<span class="word" data-audio="audio/w029_ã‚„ã™ã¿.mp3" data-romaji="yasumi" data-translation="break / rest">ã‚„ã™ã¿</span>
<span class="word" data-audio="audio/w009_ã«.mp3" data-romaji="ni" data-translation="at / in">ã«</span>
<span class="word" data-audio="audio/w023_ã¨ã‚‚ã ã¡.mp3" data-romaji="tomodachi" data-translation="friend(s)">ã¨ã‚‚ã ã¡</span>
<span class="word" data-audio="audio/w024_ã¨.mp3" data-romaji="to" data-translation="with / and">ã¨</span>
<span class="word" data-audio="audio/w030_ã“ã†ãˆã‚“.mp3" data-romaji="kouen" data-translation="park">ã“ã†ãˆã‚“</span>
<span class="word" data-audio="audio/w020_ã¸.mp3" data-romaji="e" data-translation="to">ã¸</span>
<span class="word" data-audio="audio/w021_ã„ãã¾ã™.mp3" data-romaji="ikimasu" data-translation="go">ã„ãã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w031_ã¿ã©ã‚Š.mp3" data-romaji="midori" data-translation="green">ã¿ã©ã‚Š</span>
<span class="word" data-audio="audio/w006_ã®.mp3" data-romaji="no" data-translation="of / 's">ã®</span>
<span class="word" data-audio="audio/w032_ã.mp3" data-romaji="ki" data-translation="tree">ã</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w033_ã¿ã¦.mp3" data-romaji="mite" data-translation="look at / watch">ã¿ã¦</span>ã€
          <span class="word" data-audio="audio/w034_ã‹ã‚.mp3" data-romaji="kawa" data-translation="river">ã‹ã‚</span>
<span class="word" data-audio="audio/w006_ã®.mp3" data-romaji="no" data-translation="of / 's">ã®</span>
<span class="word" data-audio="audio/w035_ã¡ã‹ã.mp3" data-romaji="chikaku" data-translation="near / close">ã¡ã‹ã</span>
<span class="word" data-audio="audio/w022_ã§.mp3" data-romaji="de" data-translation="at / in">ã§</span>
<span class="word" data-audio="audio/w036_ãŠã¹ã‚“ã¨ã†.mp3" data-romaji="obentou" data-translation="bento lunch">ãŠã¹ã‚“ã¨ã†</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w016_ãŸã¹ã¾ã™.mp3" data-romaji="tabemasu" data-translation="eat">ãŸã¹ã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w037_ã„ã¬.mp3" data-romaji="inu" data-translation="dog">ã„ã¬</span>
<span class="word" data-audio="audio/w002_ã¯.mp3" data-romaji="wa" data-translation="topic marker">ã¯</span>
<span class="word" data-audio="audio/w038_ãã“.mp3" data-romaji="soko" data-translation="there">ãã“</span>
<span class="word" data-audio="audio/w022_ã§.mp3" data-romaji="de" data-translation="at / in">ã§</span>
<span class="word" data-audio="audio/w039_ã‚ãã³ã¾ã™.mp3" data-romaji="asobimasu" data-translation="play">ã‚ãã³ã¾ã™</span>ã€‚
          <span class="word" data-audio="audio/w040_ã“ã©ã‚‚ãŸã¡.mp3" data-romaji="kodomotachi" data-translation="children">ã“ã©ã‚‚ãŸã¡</span>
<span class="word" data-audio="audio/w002_ã¯.mp3" data-romaji="wa" data-translation="topic marker">ã¯</span>
<span class="word" data-audio="audio/w041_ãŸãã•ã‚“.mp3" data-romaji="takusan" data-translation="a lot / many">ãŸãã•ã‚“</span>
<span class="word" data-audio="audio/w042_ã‚ã‚‰ã„ã¾ã™.mp3" data-romaji="waraimasu" data-translation="laugh">ã‚ã‚‰ã„ã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w043_ã‚†ã†ãŒãŸ.mp3" data-romaji="yuugata" data-translation="evening">ã‚†ã†ãŒãŸ</span>ã€
          <span class="word" data-audio="audio/w001_ã‚ãŸã—.mp3" data-romaji="watashi" data-translation="I">ã‚ãŸã—</span>
<span class="word" data-audio="audio/w002_ã¯.mp3" data-romaji="wa" data-translation="topic marker">ã¯</span>
<span class="word" data-audio="audio/w044_ã†ã¡.mp3" data-romaji="uchi" data-translation="home / house">ã†ã¡</span>
<span class="word" data-audio="audio/w009_ã«.mp3" data-romaji="ni" data-translation="to / at">ã«</span>
<span class="word" data-audio="audio/w045_ã‹ãˆã‚Šã¾ã™.mp3" data-romaji="kaerimasu" data-translation="return / go back">ã‹ãˆã‚Šã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w046_ã‹ãã.mp3" data-romaji="kazoku" data-translation="family">ã‹ãã</span>
<span class="word" data-audio="audio/w024_ã¨.mp3" data-romaji="to" data-translation="with / and">ã¨</span>
<span class="word" data-audio="audio/w047_ã°ã‚“ã”ã¯ã‚“.mp3" data-romaji="bangohan" data-translation="dinner">ã°ã‚“ã”ã¯ã‚“</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w048_ãŸã¹ã¦.mp3" data-romaji="tabete" data-translation="eat (and...)">ãŸã¹ã¦</span>ã€
          <span class="word" data-audio="audio/w049_ãˆã„ãŒ.mp3" data-romaji="eiga" data-translation="movie">ãˆã„ãŒ</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w050_ã¿ã¾ã™.mp3" data-romaji="mimasu" data-translation="watch / see">ã¿ã¾ã™</span>ã€‚
          <br/>
<span class="word" data-audio="audio/w051_ã‚ˆã‚‹.mp3" data-romaji="yoru" data-translation="night">ã‚ˆã‚‹</span>ã€
          <span class="word" data-audio="audio/w001_ã‚ãŸã—.mp3" data-romaji="watashi" data-translation="I">ã‚ãŸã—</span>
<span class="word" data-audio="audio/w002_ã¯.mp3" data-romaji="wa" data-translation="topic marker">ã¯</span>
<span class="word" data-audio="audio/w052_ã»ã‚“.mp3" data-romaji="hon" data-translation="book">ã»ã‚“</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w053_ã‚ˆã¿ã¾ã™.mp3" data-romaji="yomimasu" data-translation="read">ã‚ˆã¿ã¾ã™</span>ã€‚
          <span class="word" data-audio="audio/w054_ã‚†ã£ãã‚Š.mp3" data-romaji="yukkuri" data-translation="slowly / relax">ã‚†ã£ãã‚Š</span>
<span class="word" data-audio="audio/w017_ãŠã¡ã‚ƒ.mp3" data-romaji="ocha" data-translation="tea">ãŠã¡ã‚ƒ</span>
<span class="word" data-audio="audio/w015_ã‚’.mp3" data-romaji="o" data-translation="object marker">ã‚’</span>
<span class="word" data-audio="audio/w018_ã®ã‚“ã§.mp3" data-romaji="nonde" data-translation="drink (and...)">ã®ã‚“ã§</span>ã€
          <span class="word" data-audio="audio/w055_ã­ã¾ã™.mp3" data-romaji="nemasu" data-translation="sleep / go to bed">ã­ã¾ã™</span>ã€‚
        </div>
</div>
<footer>
        Save as <code>jp-big-story.html</code> and open in your browser. Works offline
        (audio files must be in the <code>audio/</code> folder).
      </footer>
</div>
</div>
<div aria-hidden="true" id="tooltip">
<div class="row-label">Romaji</div>
<div class="row-value romaji"></div>
<div class="row-label">Translation</div>
<div class="row-value translation"></div>
</div>
<!-- Single audio player (we'll change src in JS) -->
<audio id="word-audio"></audio>
<script>
    (function () {
      const tooltip = document.getElementById("tooltip");
      const romajiEl = tooltip.querySelector(".romaji");
      const translationEl = tooltip.querySelector(".translation");
      const audioEl = document.getElementById("word-audio");
      let hideTimer = null;

      function showTooltip(target) {
        const romaji = target.dataset.romaji || "";
        const translation = target.dataset.translation || "";

        romajiEl.textContent = romaji;
        translationEl.textContent = translation;

        const rect = target.getBoundingClientRect();
        const scrollY =
          window.scrollY || window.pageYOffset || document.documentElement.scrollTop;

        const top = rect.top + scrollY - tooltip.offsetHeight - 8;
        const left = Math.min(
          Math.max(rect.left + rect.width / 2 - tooltip.offsetWidth / 2, 8),
          window.innerWidth - tooltip.offsetWidth - 8
        );

        tooltip.style.top = `${top < 8 ? rect.bottom + scrollY + 8 : top}px`;
        tooltip.style.left = `${left}px`;
        tooltip.classList.add("visible");

        if (hideTimer) clearTimeout(hideTimer);
        hideTimer = setTimeout(() => {
          tooltip.classList.remove("visible");
        }, 2000);
      }

      function playAudio(target) {
        const src = target.dataset.audio;
        if (!src) return; // no audio yet for this word

        if (!audioEl) return;
        if (audioEl.src.endsWith(src)) {
          audioEl.currentTime = 0;
        } else {
          audioEl.src = src;
        }
        audioEl.play().catch(() => {});
      }

      function init() {
        const words = document.querySelectorAll(".word");
        words.forEach((w) => {
          w.addEventListener("click", () => {
            showTooltip(w);
            playAudio(w);
          });
        });

        // Hide tooltip when tapping empty space
        document.addEventListener("click", (e) => {
          if (!e.target.classList.contains("word")) {
            tooltip.classList.remove("visible");
          }
        });
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
