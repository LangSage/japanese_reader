<!doctype html>
<html data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>„ÅØ„Çã„ÅÆ „ÅÑ„Å°„Å´„Å°</title>
  
<style>
/* ===== Theme + font scale ===== */
:root{
  --font-scale: 1;

  /* Dark */
  --bg0:#020617;
  --bg1:#0b1224;
  --card: rgba(15, 23, 42, .88);
  --text:#f9fafb;
  --muted:#a3aab8;
  --border: rgba(148,163,184,.18);
  --shadow: 0 18px 55px rgba(0,0,0,.42);
  --chip: rgba(2,6,23,.55);
  --chip2: rgba(2,6,23,.35);
  --chipBorder: rgba(148,163,184,.18);
  --accent:#f97316;
}

:root[data-theme="light"]{
  --bg0:#f8fafc;
  --bg1:#e2e8f0;
  --card: rgba(255,255,255,.86);
  --text:#0b1220;
  --muted:#475569;
  --border: rgba(15,23,42,.16);
  --shadow: 0 18px 55px rgba(15,23,42,.12);
  --chip: rgba(255,255,255,.8);
  --chip2: rgba(255,255,255,.55);
  --chipBorder: rgba(15,23,42,.14);
  --accent:#ea580c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 800px at 20% 0%, var(--bg1), var(--bg0));
  color: var(--text);
  font-size: calc(16px * var(--font-scale));
  line-height: 1.45;
  padding: max(12px, env(safe-area-inset-top)) 14px 22px;
  display:flex;
  justify-content:center;
}

.wrap{width:100%; max-width: 980px;}
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 20px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
  padding: clamp(12px, 2vw, 18px);
}

.header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}

.brand{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width: 220px;
}
.title{
  font-weight: 900;
  letter-spacing: .06em;
  text-transform: uppercase;
  font-size: 1.05rem;
}
.subtitle{
  color: var(--muted);
  font-size: .92rem;
  max-width: 64ch;
}

.actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:flex-end;
}

.btn{
  min-height: 44px; /* good for phones */
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--chipBorder);
  background: var(--chip);
  color: var(--text);
  font-weight: 900;
  cursor: pointer;
  user-select:none;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.btn:active{transform: translateY(1px)}
.btnAccent{border-color: rgba(249,115,22,.35); box-shadow: 0 0 0 3px rgba(249,115,22,.12) inset;}
.btnIcon{width: 44px; padding: 10px 0; text-align:center;}

.controls{
  margin-top: 12px;
  display:grid;
  grid-template-columns: 140px 170px 1fr;
  gap: 10px;
}
@media (max-width: 720px){
  .controls{grid-template-columns: 1fr 1fr;}
}
@media (max-width: 520px){
  .controls{grid-template-columns: 1fr;}
}

.field{
  display:flex;
  align-items:center;
  gap:8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--chipBorder);
  background: var(--chip2);
}
.label{
  color: var(--muted);
  font-size: .85rem;
  font-weight: 800;
  white-space:nowrap;
}
select,input{
  width:100%;
  border:0;
  outline:none;
  background: transparent;
  color: var(--text);
  font: inherit;
}
input::placeholder{color: rgba(163,170,184,.85);}

.metaRow{
  margin-top: 12px;
  display:flex;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
  color: var(--muted);
  font-size: .9rem;
}

.grid{
  margin-top: 14px;
  display:grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.storyItem{
  display:block;
  text-decoration:none;
  color: inherit;
  background: linear-gradient(180deg, rgba(249,115,22,.10), rgba(249,115,22,0));
  border: 1px solid rgba(249,115,22,.18);
  border-radius: 18px;
  padding: 14px;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
  position:relative;
  overflow:hidden;
}
.storyItem:hover{
  transform: translateY(-2px);
  border-color: rgba(249,115,22,.38);
}
.storyTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.storyTitle{
  font-weight: 900;
  letter-spacing: .01em;
  font-size: 1.02rem;
  line-height: 1.2;
}
.badge{
  flex: 0 0 auto;
  border: 1px solid var(--chipBorder);
  background: var(--chip);
  border-radius: 999px;
  padding: 6px 10px;
  font-weight: 900;
  color: var(--muted);
  font-size: .85rem;
}
.storyHint{
  margin-top: 8px;
  color: var(--muted);
  font-size: .9rem;
}

.empty{
  margin-top: 14px;
  padding: 14px;
  border-radius: 16px;
  border: 1px dashed var(--border);
  color: var(--muted);
}

/* ===== Story page interactive words ===== */
.storyBox{
  margin-top:12px;
  background: var(--chip2);
  border:1px solid var(--border);
  border-radius:16px;
  padding:12px;
  font-size: 1.05em;
}

.word{
  padding:1px 3px;
  margin:0 2px;
  border-radius:8px;
  cursor:pointer;
  white-space:nowrap;
  transition:.12s;
}
.word:hover{
  background:rgba(249,115,22,.12);
  box-shadow:0 0 0 1px rgba(249,115,22,.35);
  transform:translateY(-1px);
}
.punct{opacity:.9}

#tip{
  position:absolute;
  z-index:9999;
  pointer-events:none;
  background: var(--bg0);
  border:1px solid rgba(148,163,184,.4);
  border-radius:12px;
  padding:8px 10px;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
  opacity:0;
  transform:scale(.92);
  transition:.1s;
  min-width:150px;
  max-width:260px
}
#tip.v{opacity:1;transform:scale(1)}
.lbl{
  font-size:.72rem;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:.12em;
  margin-bottom:2px
}
.val{margin-bottom:6px}
.val:last-child{margin-bottom:0}
.rom{font-weight:900}
.tr{opacity:.95}
.em{font-size:1.15rem}
</style>

</head>
<body>
  <div class="wrap">
    <div class="card">

      <div class="header">
        <div class="brand">
          <div class="title">„ÅØ„Çã„ÅÆ „ÅÑ„Å°„Å´„Å° <span style="opacity:.8;font-weight:900">Lv 1</span></div>
          <div class="subtitle">Tap a word ‚Üí emoji + romaji + translation + audio.</div>
        </div>
        <div class="actions" role="group" aria-label="Reading preferences">
          
<button class="btn btnIcon" id="fsDown" type="button" title="Smaller text">A‚àí</button>
<button class="btn btnIcon" id="fsUp" type="button" title="Bigger text">A+</button>
<button class="btn" id="fsReset" type="button" title="Reset text size">Reset</button>
<button class="btn btnAccent" id="themeToggle" type="button" title="Toggle theme">üåô / ‚òÄÔ∏è</button>

          <a class="btn" href="../index.html">‚Üê Menu</a>
        </div>
      </div>

      <div class="storyBox"><span class="word" data-emoji="üìÖ" data-romaji="kyoo" data-translation="today" data-audio="../audio/858a1996f848.mp3">„Åç„Çá„ÅÜ</span><span class="word" data-emoji="üîé" data-romaji="wa" data-translation="(topic marker)" data-audio="../audio/1fa0519cfd09_XyvwIQt.mp3">„ÅØ</span><span class="word" data-emoji="üëç" data-romaji="ii" data-translation="good" data-audio="../audio/46b255d3a847.mp3">„ÅÑ„ÅÑ</span><span class="word" data-emoji="‚òÄÔ∏è" data-romaji="tenki" data-translation="weather" data-audio="../audio/8171cbe9a4f1_KckyxXD.mp3">„Å¶„Çì„Åç</span><span class="word" data-emoji="‚úÖ" data-romaji="desu" data-translation="is / am / are (polite)" data-audio="../audio/b76f99438b35_qxIPzbz.mp3">„Åß„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üôã" data-romaji="watashi" data-translation="I / me" data-audio="../audio/b8020da03ae5_0InoCZm.mp3">„Çè„Åü„Åó</span><span class="word" data-emoji="üîé" data-romaji="wa" data-translation="(topic marker)" data-audio="../audio/1fa0519cfd09_XyvwIQt.mp3">„ÅØ</span><span class="word" data-emoji="üåÖ" data-romaji="asa" data-translation="morning" data-audio="../audio/4dcc6bc4aacb.mp3">„ÅÇ„Åï</span><span class="word" data-emoji="‚ö°" data-romaji="hayaku" data-translation="early / fast" data-audio="../audio/38fab5862f72_wLcieba.mp3">„ÅØ„ÇÑ„Åè</span><span class="word" data-emoji="‚è∞" data-romaji="oki" data-translation="wake up (stem)" data-audio="../audio/79909eb3d7c2.mp3">„Åä„Åç</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="ü™ü" data-romaji="mado" data-translation="window" data-audio="../audio/ed40559ac192_tsijLun.mp3">„Åæ„Å©</span><span class="word" data-emoji="üéØ" data-romaji="o" data-translation="(object marker)" data-audio="../audio/eba95ba0c666_Du23u3H.mp3">„Çí</span><span class="word" data-emoji="üö™" data-romaji="akeru" data-translation="to open" data-audio="../audio/058005a1662f.mp3">„ÅÇ„Åë„Çã</span><span class="word" data-emoji="‚ûï" data-romaji="to" data-translation="and / with" data-audio="../audio/a986a7bc9e03_0QOKpbr.mp3">„Å®</span><span class="punct">„ÄÅ</span><span class="word" data-emoji="üå¨Ô∏è" data-romaji="kaze" data-translation="wind" data-audio="../audio/eeae999e9ad7.mp3">„Åã„Åú</span><span class="word" data-emoji="üéØ" data-romaji="ga" data-translation="(subject marker)" data-audio="../audio/a142816563b3.mp3">„Åå</span><span class="word" data-emoji="üçÉ" data-romaji="suzushii" data-translation="cool (weather)" data-audio="../audio/3f3faecf4445_0Cn3Gno.mp3">„Åô„Åö„Åó„ÅÑ</span><span class="word" data-emoji="‚úÖ" data-romaji="desu" data-translation="is / am / are (polite)" data-audio="../audio/b76f99438b35_qxIPzbz.mp3">„Åß„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üç≥" data-romaji="asagohan" data-translation="breakfast" data-audio="../audio/4d59411a111e.mp3">„ÅÇ„Åï„Åî„ÅØ„Çì</span><span class="word" data-emoji="üîé" data-romaji="wa" data-translation="(topic marker)" data-audio="../audio/1fa0519cfd09_XyvwIQt.mp3">„ÅØ</span><span class="word" data-emoji="ü•ö" data-romaji="tamago" data-translation="egg" data-audio="../audio/7446c97eeae7_4abqKg5.mp3">„Åü„Åæ„Åî</span><span class="word" data-emoji="‚ûï" data-romaji="to" data-translation="and / with" data-audio="../audio/a986a7bc9e03_0QOKpbr.mp3">„Å®</span><span class="word" data-emoji="üçû" data-romaji="pan" data-translation="bread" data-audio="../audio/954ac3a443fc_sjzXqjq.mp3">„Å±„Çì</span><span class="word" data-emoji="‚úÖ" data-romaji="desu" data-translation="is / am / are (polite)" data-audio="../audio/b76f99438b35_qxIPzbz.mp3">„Åß„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üçΩÔ∏è" data-romaji="tabe" data-translation="eat (stem)" data-audio="../audio/c615f091b2e6_94J4yGr.mp3">„Åü„Åπ</span><span class="word" data-emoji="‚úã" data-romaji="te" data-translation="hand" data-audio="../audio/e2d970611589_CeX74tr.mp3">„Å¶</span><span class="word" data-emoji="‚û°Ô∏è" data-romaji="kara" data-translation="from / because" data-audio="../audio/32c7a85f193a.mp3">„Åã„Çâ</span><span class="punct">„ÄÅ</span><span class="word" data-emoji="üö≤" data-romaji="jiten" data-translation="bicycle (part)" data-audio="../audio/48ead1611244_WZccG9t.mp3">„Åò„Å¶„Çì</span><span class="word" data-emoji="üö≤" data-romaji="sha" data-translation="bicycle (part)" data-audio="../audio/b6e3f9666c7a_CLvfnGg.mp3">„Åó„ÇÉ</span><span class="word" data-emoji="üìç" data-romaji="de" data-translation="at / in / by" data-audio="../audio/7350618fcec3_xHTxpuM.mp3">„Åß</span><span class="word" data-emoji="üå≥" data-romaji="kooen" data-translation="park" data-audio="../audio/89db3626278c_uGF8m2i.mp3">„Åì„ÅÜ„Åà„Çì</span><span class="word" data-emoji="‚û°Ô∏è" data-romaji="e" data-translation="to (direction)" data-audio="../audio/72c746d609d4_IyWnn33.mp3">„Å∏</span><span class="word" data-emoji="üö∂‚Äç‚û°Ô∏è" data-romaji="iki" data-translation="go (stem)" data-audio="../audio/edb3cc27de99.mp3">„ÅÑ„Åç</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üëâ" data-romaji="koo" data-translation="like this / this way" data-audio="../audio/47a07bc48a04.mp3">„Åì„ÅÜ</span><span class="word" data-emoji="üñºÔ∏è" data-romaji="e" data-translation="picture / drawing" data-audio="../audio/a60311a2fc88.mp3">„Åà</span><span class="word" data-emoji="‚û°Ô∏è" data-romaji="nde" data-translation="and then / so („Çì„Åß)" data-audio="../audio/47b9f44cbea5_I0qKbgk.mp3">„Çì„Åß</span><span class="word" data-emoji="üê∂" data-romaji="inu" data-translation="dog" data-audio="../audio/7269c3d52902.mp3">„ÅÑ„Å¨</span><span class="word" data-emoji="üéØ" data-romaji="ga" data-translation="(subject marker)" data-audio="../audio/a142816563b3.mp3">„Åå</span><span class="word" data-emoji="üèÉ" data-romaji="hashitsu" data-translation="run (stem)" data-audio="../audio/4056cf9dd329_lH6Syz7.mp3">„ÅØ„Åó„Å£</span><span class="word" data-emoji="‚úã" data-romaji="te" data-translation="hand" data-audio="../audio/e2d970611589_CeX74tr.mp3">„Å¶</span><span class="word" data-emoji="üö∂‚Äç‚û°Ô∏è" data-romaji="i" data-translation="go (stem)" data-audio="../audio/3c01c77f19cd.mp3">„ÅÑ</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üôã" data-romaji="watashi" data-translation="I / me" data-audio="../audio/b8020da03ae5_0InoCZm.mp3">„Çè„Åü„Åó</span><span class="word" data-emoji="üîé" data-romaji="wa" data-translation="(topic marker)" data-audio="../audio/1fa0519cfd09_XyvwIQt.mp3">„ÅØ</span><span class="word" data-emoji="üî§" data-romaji="be" data-translation="be (sound)" data-audio="../audio/eefc5770b9dc_9B5YQW9.mp3">„Åπ</span><span class="word" data-emoji="üî§" data-romaji="n" data-translation="n (sound)" data-audio="../audio/48a866bfdaf9_NnU0jkF.mp3">„Çì</span><span class="punct">„Å°</span><span class="word" data-emoji="üéØ" data-romaji="ni" data-translation="to / in / at" data-audio="../audio/de3d1ecc94b2_B0nb3q4.mp3">„Å´</span><span class="word" data-emoji="ü™ë" data-romaji="suwatsu" data-translation="sit (stem)" data-audio="../audio/5821f2e30746_IqBwEDp.mp3">„Åô„Çè„Å£</span><span class="word" data-emoji="‚úã" data-romaji="te" data-translation="hand" data-audio="../audio/e2d970611589_CeX74tr.mp3">„Å¶</span><span class="punct">„ÄÅ</span><span class="word" data-emoji="üíß" data-romaji="mizu" data-translation="water" data-audio="../audio/1a3d0aa360f2_mmf9KgP.mp3">„Åø„Åö</span><span class="word" data-emoji="üéØ" data-romaji="o" data-translation="(object marker)" data-audio="../audio/eba95ba0c666_Du23u3H.mp3">„Çí</span><span class="word" data-emoji="üçµ" data-romaji="nomi" data-translation="drink (stem)" data-audio="../audio/b82392da617f_NhA8AGl.mp3">„ÅÆ„Åø</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üåû" data-romaji="hiru" data-translation="noon / daytime" data-audio="../audio/b20c67bcce59_OEqpOhp.mp3">„Å≤„Çã</span><span class="word" data-emoji="üéØ" data-romaji="ni" data-translation="to / in / at" data-audio="../audio/de3d1ecc94b2_B0nb3q4.mp3">„Å´</span><span class="word" data-emoji="üßë‚Äçü§ù‚Äçüßë" data-romaji="tomodachi" data-translation="friend" data-audio="../audio/fa04cb341f01_lGjLueW.mp3">„Å®„ÇÇ„Å†„Å°</span><span class="word" data-emoji="‚ûï" data-romaji="to" data-translation="and / with" data-audio="../audio/a986a7bc9e03_0QOKpbr.mp3">„Å®</span><span class="word" data-emoji="üòÆ" data-romaji="atsu" data-translation="ah! / oh!" data-audio="../audio/d9303c6e4b5a.mp3">„ÅÇ„Å£</span><span class="word" data-emoji="‚úã" data-romaji="te" data-translation="hand" data-audio="../audio/e2d970611589_CeX74tr.mp3">„Å¶</span><span class="punct">„ÄÅ</span><span class="word" data-emoji="ü§ù" data-romaji="issho" data-translation="together" data-audio="../audio/5cd112204972.mp3">„ÅÑ„Å£„Åó„Çá</span><span class="word" data-emoji="üéØ" data-romaji="ni" data-translation="to / in / at" data-audio="../audio/de3d1ecc94b2_B0nb3q4.mp3">„Å´</span><span class="word" data-emoji="üö∂" data-romaji="aruki" data-translation="walk (stem)" data-audio="../audio/74fd8a76010f.mp3">„ÅÇ„Çã„Åç</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üè†" data-romaji="kaerimichi" data-translation="way home" data-audio="../audio/5327d5166fd0.mp3">„Åã„Åà„Çä„Åø„Å°</span><span class="word" data-emoji="üéØ" data-romaji="ni" data-translation="to / in / at" data-audio="../audio/de3d1ecc94b2_B0nb3q4.mp3">„Å´</span><span class="word" data-emoji="üê≠" data-romaji="chiisana" data-translation="small" data-audio="../audio/4848aece109a_viUk1g0.mp3">„Å°„ÅÑ„Åï„Å™</span><span class="word" data-emoji="üè™" data-romaji="mise" data-translation="shop" data-audio="../audio/6b25a3bc2621_GMiYrDA.mp3">„Åø„Åõ</span><span class="word" data-emoji="üìç" data-romaji="de" data-translation="at / in / by" data-audio="../audio/7350618fcec3_xHTxpuM.mp3">„Åß</span><span class="word" data-emoji="üçú" data-romaji="raamen" data-translation="ramen" data-audio="../audio/4c79de2d6076_wornvjP.mp3">„Çâ„ÅÇ„ÇÅ„Çì</span><span class="word" data-emoji="üéØ" data-romaji="o" data-translation="(object marker)" data-audio="../audio/eba95ba0c666_Du23u3H.mp3">„Çí</span><span class="word" data-emoji="üçΩÔ∏è" data-romaji="tabe" data-translation="eat (stem)" data-audio="../audio/c615f091b2e6_94J4yGr.mp3">„Åü„Åπ</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><span class="word" data-emoji="üåô" data-romaji="yoru" data-translation="night" data-audio="../audio/fdf618195ba6_o31cJsI.mp3">„Çà„Çã</span><span class="word" data-emoji="üîé" data-romaji="wa" data-translation="(topic marker)" data-audio="../audio/1fa0519cfd09_XyvwIQt.mp3">„ÅØ</span><span class="word" data-emoji="üìñ" data-romaji="hon" data-translation="book" data-audio="../audio/85e03a8cd4d1_nPzHfeS.mp3">„Åª„Çì</span><span class="word" data-emoji="üéØ" data-romaji="o" data-translation="(object marker)" data-audio="../audio/eba95ba0c666_Du23u3H.mp3">„Çí</span><span class="word" data-emoji="üìñ" data-romaji="yon" data-translation="read / call (stem)" data-audio="../audio/ceb4a54e2de4_PAZb0ze.mp3">„Çà„Çì</span><span class="word" data-emoji="üìç" data-romaji="de" data-translation="at / in / by" data-audio="../audio/7350618fcec3_xHTxpuM.mp3">„Åß</span><span class="punct">„ÄÅ</span><span class="word" data-emoji="üê¢" data-romaji="yukkuri" data-translation="slowly" data-audio="../audio/1b1282bd4bad_9pMO8gK.mp3">„ÇÜ„Å£„Åè„Çä</span><span class="word" data-emoji="üôÇ" data-romaji="ne" data-translation="right? / you know" data-audio="../audio/3a104bbe569e_j209bcA.mp3">„Å≠</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><br></div>

    </div>
  </div>

  
<div id="tip" aria-hidden="true">
  <div class="lbl">Emoji</div><div class="val em"></div>
  <div class="lbl">Romaji</div><div class="val rom"></div>
  <div class="lbl">Translation</div><div class="val tr"></div>
</div>
<audio id="aud"></audio>
<script>
(()=> {
  const tip = document.getElementById('tip');
  const em = tip.querySelector('.em');
  const rom = tip.querySelector('.rom');
  const tr = tip.querySelector('.tr');
  const aud = document.getElementById('aud');
  let t=null;

  function show(el){
    em.textContent = el.dataset.emoji || "‚Äî";
    rom.textContent = el.dataset.romaji || "‚Äî";
    tr.textContent = el.dataset.translation || "‚Äî";

    const r = el.getBoundingClientRect();
    const y = window.scrollY || document.documentElement.scrollTop;
    const top = r.top + y - tip.offsetHeight - 8;
    const left = Math.min(Math.max(r.left + r.width/2 - tip.offsetWidth/2, 8), window.innerWidth - tip.offsetWidth - 8);
    tip.style.top = `${top < 8 ? r.bottom + y + 8 : top}px`;
    tip.style.left = `${left}px`;
    tip.classList.add('v');
    clearTimeout(t);
    t=setTimeout(()=>tip.classList.remove('v'), 2200);
  }

  function play(el){
    const src = el.dataset.audio;
    if(!src) return;
    if(aud.src.endsWith(src)) aud.currentTime = 0;
    else aud.src = src;
    aud.play().catch(()=>{});
  }

  document.querySelectorAll('.word').forEach(w=>{
    w.addEventListener('click', ()=>{ show(w); play(w); });
  });

  document.addEventListener('click', (e)=>{
    if(!e.target.classList.contains('word')) tip.classList.remove('v');
  });
})();
</script>

  
<script>
(() => {
  const root = document.documentElement;
  const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));

  const getTheme = () => localStorage.getItem("jr_theme") || "dark";
  const setTheme = (t) => { root.dataset.theme = t; localStorage.setItem("jr_theme", t); };

  const getScale = () => Number(localStorage.getItem("jr_fontScale") || "1");
  const setScale = (s) => {
    s = clamp(s, 0.85, 1.6);
    root.style.setProperty("--font-scale", s);
    localStorage.setItem("jr_fontScale", String(s));
  };

  setTheme(getTheme());
  setScale(getScale());

  const fsDown = document.getElementById("fsDown");
  const fsUp = document.getElementById("fsUp");
  const fsReset = document.getElementById("fsReset");
  const themeToggle = document.getElementById("themeToggle");

  if (fsDown) fsDown.onclick = () => setScale(getScale() - 0.1);
  if (fsUp) fsUp.onclick   = () => setScale(getScale() + 0.1);
  if (fsReset) fsReset.onclick = () => setScale(1);
  if (themeToggle) themeToggle.onclick = () => setTheme(getTheme()==="dark" ? "light" : "dark");
})();
</script>

</body>
</html>