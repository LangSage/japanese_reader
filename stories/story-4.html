<!doctype html>
<html data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>„Åü„ÅÑ„Å®„ÇãÔºö„ÅÇ„ÇÅ„ÅÆ „Å≤</title>
  
<style>
/* ===== Theme + font scale ===== */
:root{
  --font-scale: 1;

  /* Dark */
  --bg0:#020617;
  --bg1:#0b1224;
  --card: rgba(15, 23, 42, .88);
  --text:#f9fafb;
  --muted:#a3aab8;
  --border: rgba(148,163,184,.18);
  --shadow: 0 18px 55px rgba(0,0,0,.42);
  --chip: rgba(2,6,23,.55);
  --chip2: rgba(2,6,23,.35);
  --chipBorder: rgba(148,163,184,.18);
  --accent:#f97316;
}

:root[data-theme="light"]{
  --bg0:#f8fafc;
  --bg1:#e2e8f0;
  --card: rgba(255,255,255,.86);
  --text:#0b1220;
  --muted:#475569;
  --border: rgba(15,23,42,.16);
  --shadow: 0 18px 55px rgba(15,23,42,.12);
  --chip: rgba(255,255,255,.8);
  --chip2: rgba(255,255,255,.55);
  --chipBorder: rgba(15,23,42,.14);
  --accent:#ea580c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 800px at 20% 0%, var(--bg1), var(--bg0));
  color: var(--text);
  font-size: calc(16px * var(--font-scale));
  line-height: 1.45;
  padding: max(12px, env(safe-area-inset-top)) 14px 22px;
  display:flex;
  justify-content:center;
}

.wrap{width:100%; max-width: 980px;}
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 20px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
  padding: clamp(12px, 2vw, 18px);
}

.header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}

.brand{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width: 220px;
}
.title{
  font-weight: 900;
  letter-spacing: .06em;
  text-transform: uppercase;
  font-size: 1.05rem;
}
.subtitle{
  color: var(--muted);
  font-size: .92rem;
  max-width: 64ch;
}

.actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:flex-end;
}

.btn{
  min-height: 44px; /* good for phones */
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--chipBorder);
  background: var(--chip);
  color: var(--text);
  font-weight: 900;
  cursor: pointer;
  user-select:none;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.btn:active{transform: translateY(1px)}
.btnAccent{border-color: rgba(249,115,22,.35); box-shadow: 0 0 0 3px rgba(249,115,22,.12) inset;}
.btnIcon{width: 44px; padding: 10px 0; text-align:center;}

.controls{
  margin-top: 12px;
  display:grid;
  grid-template-columns: 140px 170px 1fr;
  gap: 10px;
}
@media (max-width: 720px){
  .controls{grid-template-columns: 1fr 1fr;}
}
@media (max-width: 520px){
  .controls{grid-template-columns: 1fr;}
}

.field{
  display:flex;
  align-items:center;
  gap:8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--chipBorder);
  background: var(--chip2);
}
.label{
  color: var(--muted);
  font-size: .85rem;
  font-weight: 800;
  white-space:nowrap;
}
select,input{
  width:100%;
  border:0;
  outline:none;
  background: transparent;
  color: var(--text);
  font: inherit;
}
input::placeholder{color: rgba(163,170,184,.85);}

.metaRow{
  margin-top: 12px;
  display:flex;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
  color: var(--muted);
  font-size: .9rem;
}

.grid{
  margin-top: 14px;
  display:grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.storyItem{
  display:block;
  text-decoration:none;
  color: inherit;
  background: linear-gradient(180deg, rgba(249,115,22,.10), rgba(249,115,22,0));
  border: 1px solid rgba(249,115,22,.18);
  border-radius: 18px;
  padding: 14px;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
  position:relative;
  overflow:hidden;
}
.storyItem:hover{
  transform: translateY(-2px);
  border-color: rgba(249,115,22,.38);
}
.storyTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.storyTitle{
  font-weight: 900;
  letter-spacing: .01em;
  font-size: 1.02rem;
  line-height: 1.2;
}
.badge{
  flex: 0 0 auto;
  border: 1px solid var(--chipBorder);
  background: var(--chip);
  border-radius: 999px;
  padding: 6px 10px;
  font-weight: 900;
  color: var(--muted);
  font-size: .85rem;
}
.storyHint{
  margin-top: 8px;
  color: var(--muted);
  font-size: .9rem;
}

.empty{
  margin-top: 14px;
  padding: 14px;
  border-radius: 16px;
  border: 1px dashed var(--border);
  color: var(--muted);
}

/* ===== Story page interactive words ===== */
.storyBox{
  margin-top:12px;
  background: var(--chip2);
  border:1px solid var(--border);
  border-radius:16px;
  padding:12px;
  font-size: 1.05em;
}

.word{
  padding:1px 3px;
  margin:0 2px;
  border-radius:8px;
  cursor:pointer;
  white-space:nowrap;
  transition:.12s;
}
.word:hover{
  background:rgba(249,115,22,.12);
  box-shadow:0 0 0 1px rgba(249,115,22,.35);
  transform:translateY(-1px);
}
.punct{opacity:.9}

#tip{
  position:absolute;
  z-index:9999;
  pointer-events:none;
  background: var(--bg0);
  border:1px solid rgba(148,163,184,.4);
  border-radius:12px;
  padding:8px 10px;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
  opacity:0;
  transform:scale(.92);
  transition:.1s;
  min-width:150px;
  max-width:260px
}
#tip.v{opacity:1;transform:scale(1)}
.lbl{
  font-size:.72rem;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:.12em;
  margin-bottom:2px
}
.val{margin-bottom:6px}
.val:last-child{margin-bottom:0}
.rom{font-weight:900}
.tr{opacity:.95}
.em{font-size:1.15rem}
</style>

</head>
<body>
  <div class="wrap">
    <div class="card">

      <div class="header">
        <div class="brand">
          <div class="title">„Åü„ÅÑ„Å®„ÇãÔºö„ÅÇ„ÇÅ„ÅÆ „Å≤ <span style="opacity:.8;font-weight:900">Lv 1</span></div>
          <div class="subtitle">Tap a word ‚Üí emoji + romaji + translation + audio.</div>
        </div>
        <div class="actions" role="group" aria-label="Reading preferences">
          
<button class="btn btnIcon" id="fsDown" type="button" title="Smaller text">A‚àí</button>
<button class="btn btnIcon" id="fsUp" type="button" title="Bigger text">A+</button>
<button class="btn" id="fsReset" type="button" title="Reset text size">Reset</button>
<button class="btn btnAccent" id="themeToggle" type="button" title="Toggle theme">üåô / ‚òÄÔ∏è</button>

          <a class="btn" href="../index.html">‚Üê Menu</a>
        </div>
      </div>

      <div class="storyBox"><span class="word" data-emoji="üåßÔ∏è" data-romaji="ame" data-translation="rain" data-audio="../audio/d81b8564264c.mp3">„ÅÇ„ÇÅ</span><span class="word" data-emoji="üéØ" data-romaji="ga" data-translation="(subject marker)" data-audio="../audio/a142816563b3.mp3">„Åå</span><span class="word" data-emoji="‚¨áÔ∏èüåßÔ∏è" data-romaji="furi" data-translation="falling (as in rain/snow); rainfall (stem)" data-audio="../audio/96ac2b4dded8.mp3">„Åµ„Çä</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><br><span class="word" data-emoji="üôã" data-romaji="watashi" data-translation="I / me" data-audio="../audio/b8020da03ae5_0InoCZm.mp3">„Çè„Åü„Åó</span><span class="word" data-emoji="üîé" data-romaji="wa" data-translation="(topic marker)" data-audio="../audio/1fa0519cfd09_XyvwIQt.mp3">„ÅØ</span><span class="word" data-emoji="üè†" data-romaji="uchi" data-translation="home; house" data-audio="../audio/1d25d18f1a3f.mp3">„ÅÜ„Å°</span><span class="word" data-emoji="üéØ" data-romaji="ni" data-translation="to / in / at" data-audio="../audio/de3d1ecc94b2_B0nb3q4.mp3">„Å´</span><span class="word" data-emoji="üö∂‚Äç‚û°Ô∏è" data-romaji="i" data-translation="go (stem)" data-audio="../audio/3c01c77f19cd.mp3">„ÅÑ</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><br><span class="word" data-emoji="üçµ" data-romaji="cha" data-translation="tea" data-audio="../audio/062957be362f.mp3">„Å°„ÇÉ</span><span class="word" data-emoji="üéØ" data-romaji="o" data-translation="(object marker)" data-audio="../audio/eba95ba0c666_Du23u3H.mp3">„Çí</span><span class="word" data-emoji="üçµ" data-romaji="nomi" data-translation="drink (stem)" data-audio="../audio/b82392da617f_NhA8AGl.mp3">„ÅÆ„Åø</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><br><span class="word" data-emoji="üò∫" data-romaji="neko" data-translation="cat" data-audio="../audio/d1ca85a1f5c8.mp3">„Å≠„Åì</span><span class="word" data-emoji="‚ûï" data-romaji="mo" data-translation="also; too" data-audio="../audio/3c6945772d72.mp3">„ÇÇ</span><span class="word" data-emoji="üè†" data-romaji="uchi" data-translation="home; house" data-audio="../audio/1d25d18f1a3f.mp3">„ÅÜ„Å°</span><span class="word" data-emoji="üéØ" data-romaji="ni" data-translation="to / in / at" data-audio="../audio/de3d1ecc94b2_B0nb3q4.mp3">„Å´</span><span class="word" data-emoji="üö∂‚Äç‚û°Ô∏è" data-romaji="i" data-translation="go (stem)" data-audio="../audio/3c01c77f19cd.mp3">„ÅÑ</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><br><span class="word" data-emoji="üë®‚Äçüë©‚Äçüëß‚Äçüë¶" data-romaji="minna" data-translation="everyone" data-audio="../audio/a5686da371e8.mp3">„Åø„Çì„Å™</span><span class="word" data-emoji="üìç" data-romaji="de" data-translation="at / in / by" data-audio="../audio/7350618fcec3_xHTxpuM.mp3">„Åß</span><span class="word" data-emoji="üòä" data-romaji="nikoniko" data-translation="smiling; happily" data-audio="../audio/1f0ae67403c2.mp3">„Å´„Åì„Å´„Åì</span><span class="word" data-emoji="4Ô∏è‚É£" data-romaji="shi" data-translation="four (reading)" data-audio="../audio/812f45bfcf7e.mp3">„Åó</span><span class="word" data-emoji="üé©" data-romaji="masu" data-translation="(polite verb ending)" data-audio="../audio/9510b5e554e5_XDrkA3a.mp3">„Åæ„Åô</span><span class="punct">„ÄÇ</span><br></div>

    </div>
  </div>

  
<div id="tip" aria-hidden="true">
  <div class="lbl">Emoji</div><div class="val em"></div>
  <div class="lbl">Romaji</div><div class="val rom"></div>
  <div class="lbl">Translation</div><div class="val tr"></div>
</div>
<audio id="aud"></audio>
<script>
(()=> {
  const tip = document.getElementById('tip');
  const em = tip.querySelector('.em');
  const rom = tip.querySelector('.rom');
  const tr = tip.querySelector('.tr');
  const aud = document.getElementById('aud');
  let t=null;

  function show(el){
    em.textContent = el.dataset.emoji || "‚Äî";
    rom.textContent = el.dataset.romaji || "‚Äî";
    tr.textContent = el.dataset.translation || "‚Äî";

    const r = el.getBoundingClientRect();
    const y = window.scrollY || document.documentElement.scrollTop;
    const top = r.top + y - tip.offsetHeight - 8;
    const left = Math.min(Math.max(r.left + r.width/2 - tip.offsetWidth/2, 8), window.innerWidth - tip.offsetWidth - 8);
    tip.style.top = `${top < 8 ? r.bottom + y + 8 : top}px`;
    tip.style.left = `${left}px`;
    tip.classList.add('v');
    clearTimeout(t);
    t=setTimeout(()=>tip.classList.remove('v'), 2200);
  }

  function play(el){
    const src = el.dataset.audio;
    if(!src) return;
    if(aud.src.endsWith(src)) aud.currentTime = 0;
    else aud.src = src;
    aud.play().catch(()=>{});
  }

  document.querySelectorAll('.word').forEach(w=>{
    w.addEventListener('click', ()=>{ show(w); play(w); });
  });

  document.addEventListener('click', (e)=>{
    if(!e.target.classList.contains('word')) tip.classList.remove('v');
  });
})();
</script>

  
<script>
(() => {
  const root = document.documentElement;
  const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));

  const getTheme = () => localStorage.getItem("jr_theme") || "dark";
  const setTheme = (t) => { root.dataset.theme = t; localStorage.setItem("jr_theme", t); };

  const getScale = () => Number(localStorage.getItem("jr_fontScale") || "1");
  const setScale = (s) => {
    s = clamp(s, 0.85, 1.6);
    root.style.setProperty("--font-scale", s);
    localStorage.setItem("jr_fontScale", String(s));
  };

  setTheme(getTheme());
  setScale(getScale());

  const fsDown = document.getElementById("fsDown");
  const fsUp = document.getElementById("fsUp");
  const fsReset = document.getElementById("fsReset");
  const themeToggle = document.getElementById("themeToggle");

  if (fsDown) fsDown.onclick = () => setScale(getScale() - 0.1);
  if (fsUp) fsUp.onclick   = () => setScale(getScale() + 0.1);
  if (fsReset) fsReset.onclick = () => setScale(1);
  if (themeToggle) themeToggle.onclick = () => setTheme(getTheme()==="dark" ? "light" : "dark");
})();
</script>

</body>
</html>