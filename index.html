<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Japanese Reader</title>
<style>
:root{--accent:#f97316;--muted:#9ca3af;--border:#1f2937;}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,sans-serif;background:radial-gradient(circle at top,#0f172a 0,#020617 60%);color:#f9fafb;display:flex;justify-content:center;padding:16px;}
.wrap{width:100%;max-width:900px;}
.card{background:rgba(15,23,42,.9);border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:0 18px 45px rgba(15,23,42,.7);backdrop-filter:blur(18px);}
a{color:#fed7aa;text-decoration:none}
.nav{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0;}
.pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(15,23,42,.9);border:1px solid var(--border);}
.title{font-weight:800;letter-spacing:.04em;text-transform:uppercase}
.subtitle{color:var(--muted);font-size:.85rem;margin-top:6px}
.story{margin-top:12px;background:radial-gradient(circle at top left,#111827 0,#020617 70%);border:1px solid var(--border);border-radius:14px;padding:12px}
.word{padding:1px 3px;margin:0 2px;border-radius:6px;cursor:pointer;white-space:nowrap;transition:.12s}
.word:hover{background:rgba(249,115,22,.12);box-shadow:0 0 0 1px rgba(249,115,22,.35);transform:translateY(-1px)}
.punct{opacity:.9}
#tip{position:absolute;z-index:9999;pointer-events:none;background:#020617;border:1px solid rgba(148,163,184,.6);border-radius:10px;padding:8px 10px;box-shadow:0 12px 30px rgba(15,23,42,.9);opacity:0;transform:scale(.92);transition:.1s;min-width:150px;max-width:250px}
#tip.v{opacity:1;transform:scale(1)}
.lbl{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.12em;margin-bottom:2px}
.val{margin-bottom:6px}
.val:last-child{margin-bottom:0}
.rom{color:#fee2e2;font-weight:700}
.tr{color:#bfdbfe}
.em{font-size:1.1rem}
.ctrlRow{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;margin-bottom:10px}
.ctrl{display:inline-flex;align-items:center;gap:6px}
.ctrl select,.ctrl input{
  padding:6px 10px;border-radius:999px;border:1px solid #374151;
  background:#0b1020;color:#fff;outline:none;
}
.ctrl input{min-width:220px}
</style>
</head>
<body><div class="wrap"><div class="card">
  <div class="title">„Å´„Åª„Çì„Åî„É™„Éº„ÉÄ„Éº</div>
  <div class="subtitle">Menu ‚Äì filter by level, search by title. Open a story and tap words for emoji + translation + romaji + audio.</div>
  
<div class="ctrlRow">
  <div class="pill ctrl">
    Max Lv:
    <select id="maxLv">
      <option value="10">10</option>
      <option value="9">9</option>
      <option value="8">8</option>
      <option value="7">7</option>
      <option value="6">6</option>
      <option value="5">5</option>
      <option value="4">4</option>
      <option value="3">3</option>
      <option value="2">2</option>
      <option value="1">1</option>
      <option value="0">0</option>
    </select>
  </div>

  <div class="pill ctrl">
    Sort:
    <select id="sortMode">
      <option value="easy">easy ‚Üí hard</option>
      <option value="hard">hard ‚Üí easy</option>
      <option value="az">A ‚Üí Z</option>
    </select>
  </div>

  <div class="pill ctrl">
    Search:
    <input id="q" type="text" placeholder="type title‚Ä¶">
  </div>
</div>

<script>
(() => {
  const nav = document.getElementById("storyNav");
  const items = Array.from(document.querySelectorAll(".storyItem"));
  const maxLv = document.getElementById("maxLv");
  const sortMode = document.getElementById("sortMode");
  const q = document.getElementById("q");

  // restore saved
  maxLv.value = localStorage.getItem("jr_maxLv") || "10";
  sortMode.value = localStorage.getItem("jr_sort") || "easy";
  q.value = localStorage.getItem("jr_q") || "";

  function apply(){
    const max = Number(maxLv.value);
    const query = (q.value || "").trim().toLowerCase();

    let visible = items.filter(el => {
      const lv = Number(el.dataset.level || "0");
      const title = (el.dataset.title || "").toLowerCase();
      if (lv > max) return false;
      if (query && !title.includes(query)) return false;
      return true;
    });

    const mode = sortMode.value;
    visible.sort((a,b) => {
      const la = Number(a.dataset.level || "0");
      const lb = Number(b.dataset.level || "0");
      const ta = (a.dataset.title || "").toLowerCase();
      const tb = (b.dataset.title || "").toLowerCase();
      if (mode === "hard") return lb - la || ta.localeCompare(tb);
      if (mode === "az") return ta.localeCompare(tb) || la - lb;
      return la - lb || ta.localeCompare(tb); // easy
    });

    // rebuild list
    nav.innerHTML = "";
    visible.forEach(el => nav.appendChild(el));

    localStorage.setItem("jr_maxLv", maxLv.value);
    localStorage.setItem("jr_sort", sortMode.value);
    localStorage.setItem("jr_q", q.value);
  }

  maxLv.addEventListener("change", apply);
  sortMode.addEventListener("change", apply);
  q.addEventListener("input", apply);

  apply();
})();
</script>

  <div class="nav" id="storyNav"><div class="pill storyItem" data-level="1" data-title="„ÅØ„Çã„ÅÆ „ÅÑ„Å°„Å´„Å°"><a href="stories/story.html">üìñ „ÅØ„Çã„ÅÆ „ÅÑ„Å°„Å´„Å°</a> <span style="color:#9ca3af;font-size:.85rem">Lv 1</span></div><div class="pill storyItem" data-level="1" data-title="Anna1"><a href="stories/anna1.html">üìñ Anna1</a> <span style="color:#9ca3af;font-size:.85rem">Lv 1</span></div><div class="pill storyItem" data-level="1" data-title="„ÅÇ„Åï„ÅÆ „Åï„Çì„ÅΩ"><a href="stories/story-2.html">üìñ „ÅÇ„Åï„ÅÆ „Åï„Çì„ÅΩ</a> <span style="color:#9ca3af;font-size:.85rem">Lv 1</span></div></div>
</div></div></body></html>